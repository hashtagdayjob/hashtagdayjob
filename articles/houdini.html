<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="/css/main.css" rel="stylesheet">
    <script id="locizify" projectid="ed4b3481-d721-4fa7-aefc-1fdecc9d2edd" debug="false" apikey="4d19e77f-0c90-42df-b331-95c9c3cf474b"
        saveMissing="true" referencelng="en-GB" fallbacklng="en-GB" src="https://unpkg.com/locizify@^2.0.0">
        </script>
</head>

<body>
    <div class="radial-gradient">
    
    </div>
    <div class="ripple animateable" style="background-color: red;--animation-tick: 0;">
    
    </div>
    <script>
        CSS.paintWorklet.addModule('../js/worklet.js');
        CSS.paintWorklet.addModule('../js/radialGradient.js');
        CSS.paintWorklet.addModule('../js/ripple.js');
        const logTick = (t) => {
            console.log(t);
            window.requestAnimationFrame(logTick);
        }
        const updateAnimationTick = (t) => {
            const animateables = Array.from(document.querySelectorAll('.animateable'));
            animateables.map((element) => {
                element.setAttribute('data-animationtick', t);
                let rules = element.style.cssText.split(';');
                //console.log(rules);
                var found = rules.findIndex(function (element) {
                    return element.match(/--animation-tick/);
                });
                rules[found] = "--animation-tick:" + parseInt(t);
                element.style.cssText = rules.join(';');
            })
            window.requestAnimationFrame(updateAnimationTick);
        }
        window.requestAnimationFrame(updateAnimationTick);
    </script>
</body>

</html>
